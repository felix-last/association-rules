<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_77) on Sat May 28 22:52:55 WEST 2016 -->
<title>CandidateReducer</title>
<meta name="date" content="2016-05-28">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CandidateReducer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../AssociationRules/reducers/AssociationReducer.Counters.html" title="enum in AssociationRules.reducers"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../AssociationRules/reducers/CandidateReducer.Counters.html" title="enum in AssociationRules.reducers"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?AssociationRules/reducers/CandidateReducer.html" target="_top">Frames</a></li>
<li><a href="CandidateReducer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">AssociationRules.reducers</div>
<h2 title="Class CandidateReducer" class="title">Class CandidateReducer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.mapreduce.Reducer&lt;org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable,org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable&gt;</li>
<li>
<ul class="inheritance">
<li>AssociationRules.reducers.CandidateReducer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CandidateReducer</span>
extends org.apache.hadoop.mapreduce.Reducer&lt;org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable,org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable&gt;</pre>
<div class="block">CandidateReducer will sum up the counts of itemsets and pass them on if they are frequent.
 The reducer will only pass on itemsets whose count exceeds a support threshold. Those itemsets
 will also be put onto a BitSet whitelist, that is being persisted for use in the next iteration.<p>
 It relies on the following job configurations:
 <ul>
 <li>SUPPORT_THRESHOLD: support threshold to decide whether itemset is frequent or not</li>
 <li>TMP_FILE_PATH: the file system location, where the intermediary files are to be found</li>
 <li>TUPEL_SIZE: tuple size of the current iteration</li>
 </ul>
        <p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.Counters.html" title="enum in AssociationRules.reducers">CandidateReducer.Counters</a></span></code>
<div class="block">Enumerator keeping count of the following:
 
 frequent_itemsets: count of accepted frequent itemsets
 declined_sets: count of declined, non-frequent itemsets.
 </div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.apache.hadoop.mapreduce.Reducer">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.hadoop.mapreduce.Reducer</h3>
<code>org.apache.hadoop.mapreduce.Reducer.Context</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.html#basePath">basePath</a></span></code>
<div class="block">Location of intermediary files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.html#supportThreshold">supportThreshold</a></span></code>
<div class="block">Support threshold that decides whether itemsets are frequent or not.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.Integer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.html#tupelSize">tupelSize</a></span></code>
<div class="block">Tuple size of current iteration.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.BitSet</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.html#whitelist">whitelist</a></span></code>
<div class="block">Whitelist: BitSet to which frequent itemsets will be hashed.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.html#CandidateReducer--">CandidateReducer</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.html#addToWhitelist-org.apache.hadoop.io.Text-">addToWhitelist</a></span>(org.apache.hadoop.io.Text&nbsp;key)</code>
<div class="block">Add an itemset to the whitelist.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.html#cleanup-org.apache.hadoop.mapreduce.Reducer.Context-">cleanup</a></span>(org.apache.hadoop.mapreduce.Reducer.Context&nbsp;context)</code>
<div class="block">Finishing the frequent itemset extraction for the given tuple size by writing the whitelist ti the filesystem.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.html#reduce-org.apache.hadoop.io.Text-java.lang.Iterable-org.apache.hadoop.mapreduce.Reducer.Context-">reduce</a></span>(org.apache.hadoop.io.Text&nbsp;key,
      java.lang.Iterable&lt;org.apache.hadoop.io.IntWritable&gt;&nbsp;values,
      org.apache.hadoop.mapreduce.Reducer.Context&nbsp;context)</code>
<div class="block">Reduce function sums up the counts for itemsets and passes them on if they exceed the support threshold.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../AssociationRules/reducers/CandidateReducer.html#setup-org.apache.hadoop.mapreduce.Reducer.Context-">setup</a></span>(org.apache.hadoop.mapreduce.Reducer.Context&nbsp;context)</code>
<div class="block">Preparing the reducer by loading the configuration for the support threshold, the intermediary file location
 and the tuple size of the current iteration.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.hadoop.mapreduce.Reducer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.hadoop.mapreduce.Reducer</h3>
<code>run</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="whitelist">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>whitelist</h4>
<pre>private static&nbsp;java.util.BitSet whitelist</pre>
<div class="block">Whitelist: BitSet to which frequent itemsets will be hashed.</div>
</li>
</ul>
<a name="supportThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportThreshold</h4>
<pre>private static&nbsp;int supportThreshold</pre>
<div class="block">Support threshold that decides whether itemsets are frequent or not. Updated from configuration.</div>
</li>
</ul>
<a name="basePath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>basePath</h4>
<pre>private static&nbsp;java.lang.String basePath</pre>
<div class="block">Location of intermediary files. Updated from configuration.</div>
</li>
</ul>
<a name="tupelSize">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tupelSize</h4>
<pre>private static&nbsp;java.lang.Integer tupelSize</pre>
<div class="block">Tuple size of current iteration. Updated from configuration.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CandidateReducer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CandidateReducer</h4>
<pre>public&nbsp;CandidateReducer()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setup-org.apache.hadoop.mapreduce.Reducer.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>protected&nbsp;void&nbsp;setup(org.apache.hadoop.mapreduce.Reducer.Context&nbsp;context)
              throws java.io.IOException,
                     java.lang.InterruptedException</pre>
<div class="block">Preparing the reducer by loading the configuration for the support threshold, the intermediary file location
 and the tuple size of the current iteration.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>setup</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.Reducer&lt;org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable,org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - context of mapper</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - is called in a file system context</dd>
<dd><code>java.lang.InterruptedException</code> - executed as thread, therefore can be interrupted</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../AssociationRules/util/Utils.html#deserializeObject-org.apache.hadoop.fs.FileSystem-java.lang.String-"><code>Utils.deserializeObject(FileSystem, String)</code></a></dd>
</dl>
</li>
</ul>
<a name="reduce-org.apache.hadoop.io.Text-java.lang.Iterable-org.apache.hadoop.mapreduce.Reducer.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reduce</h4>
<pre>public&nbsp;void&nbsp;reduce(org.apache.hadoop.io.Text&nbsp;key,
                   java.lang.Iterable&lt;org.apache.hadoop.io.IntWritable&gt;&nbsp;values,
                   org.apache.hadoop.mapreduce.Reducer.Context&nbsp;context)
            throws java.io.IOException,
                   java.lang.InterruptedException</pre>
<div class="block">Reduce function sums up the counts for itemsets and passes them on if they exceed the support threshold.
 If an itemset exceeds the threshold it is also hashed to the whitelist which will be persisted later on.<p>
 INPUT FORMAT<p>
 key    : Itemset, e.g. 1;2;3<br>
 values: 2342, 34, 32,... <p>

 OUTPUT FORMAT<p>
 key    : Itemset, e.g. 1;2;3<br>
 value: 4332 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>reduce</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.Reducer&lt;org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable,org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - itemset key, e.g. 1;2;3</dd>
<dd><code>values</code> - the iterable counts for the key</dd>
<dd><code>context</code> - the context of the map reduce job</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - is called in a file system context</dd>
<dd><code>java.lang.InterruptedException</code> - executed as thread, therefore can be interrupted</dd>
</dl>
</li>
</ul>
<a name="cleanup-org.apache.hadoop.mapreduce.Reducer.Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanup</h4>
<pre>public&nbsp;void&nbsp;cleanup(org.apache.hadoop.mapreduce.Reducer.Context&nbsp;context)
             throws java.io.IOException,
                    java.lang.InterruptedException</pre>
<div class="block">Finishing the frequent itemset extraction for the given tuple size by writing the whitelist ti the filesystem.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>cleanup</code>&nbsp;in class&nbsp;<code>org.apache.hadoop.mapreduce.Reducer&lt;org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable,org.apache.hadoop.io.Text,org.apache.hadoop.io.IntWritable&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - context of mapper</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - is called in a file system context</dd>
<dd><code>java.lang.InterruptedException</code> - executed as thread, therefore can be interrupted</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../AssociationRules/util/Utils.html#serializeObject-java.lang.Object-org.apache.hadoop.fs.FileSystem-java.lang.String-"><code>Utils.serializeObject(Object, FileSystem, String)</code></a></dd>
</dl>
</li>
</ul>
<a name="addToWhitelist-org.apache.hadoop.io.Text-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addToWhitelist</h4>
<pre>private&nbsp;void&nbsp;addToWhitelist(org.apache.hadoop.io.Text&nbsp;key)</pre>
<div class="block">Add an itemset to the whitelist. The set is converted into a hash-code which is used as a positional pointer
 on the BitSet that represents the whitelist.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - input itemset to add to the whitelist</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../AssociationRules/util/Utils.html#hashKey-java.lang.String-"><code>Utils.hashKey(String)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../AssociationRules/reducers/AssociationReducer.Counters.html" title="enum in AssociationRules.reducers"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../AssociationRules/reducers/CandidateReducer.Counters.html" title="enum in AssociationRules.reducers"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?AssociationRules/reducers/CandidateReducer.html" target="_top">Frames</a></li>
<li><a href="CandidateReducer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
